{% extends "page.html" %}

{% block title %}
{{ gettext("Submit") }}
{% endblock %}

{% block body_class %}form{% endblock %}

{% block content %}

<form action="." method="get" accept-charset="utf-8">
<section>
  <div class="container">
    <div class="select question">
      <div class="instructions">
      </div>
      <div class="main">
        <h2>{{gettext("Place")}}</h2>
        <div class="answer">
          <select name="place" id="place-select" required autocomplete="off">
            <option value="">{{gettext("Please select")}}</option>
            {% for place in places %}
            <option value="{{place.id}}" {% if (formData and place.id == formData.place) or (current and place.id == current.place) %}selected="true"{% endif %}>{{place.name}}</option>
            {% endfor %}
          </select>
        </div>
      </div>
      <div class="comments">
      </div>
    </div>

    <div class="select question">
      <div class="instructions"></div>
      <div class="main">
        <h2>{{gettext("Dataset")}}</h2>
        <div class="answer">
          <select name="dataset" id="dataset-select" required>
            <option value="">{{gettext("Please select")}}</option>
            {% for dataset in datasets %}
            <option value="{{dataset.id}}" {% if (formData and dataset.id == formData.dataset) or (current and dataset.id == current.dataset) %}selected="true"{% endif %}>{{dataset.name}}</option>
            {% endfor %}
          </select>
        </div>
      </div>
      <div class="comments">
      </div>
    </div>
  </div>
</section>
</form>

{% if datasetContext|length %}
<form action="." method="post" accept-charset="utf-8">
<section>
  <div class="container">
    <div class="intro">
      <h1>Section A - About you</h1>
      <p>This section is not scored, but could provide valuable insights.</p>
    </div>

    <div class="scale first question">
      <div class="instructions"></div>
      <div class="main">
        <h2><span>A1.</span> Rate your knowledge of <em>{{ datasetContext.datasetName }}</em>.</h2>
        <div class="answer">
          <span>
            <input type="radio" name="youKnowledgeDomain" id="youKnowledgeDomain1" value="1">
            <label for="youKnowledgeDomain1">
              <span>1</span> <em class="description"> I'm not familiar at all with the field</em>
            </label>
          </span>
          <span>
            <input type="radio" name="youKnowledgeDomain" id="youKnowledgeDomain2" value="2">
            <label for="youKnowledgeDomain2">
              <span>2</span> <em class="description">I have some knowledge about the field</em>
            </label>
          </span>
          <span>
            <input type="radio" name="youKnowledgeDomain" id="youKnowledgeDomain3" value="3">
            <label for="youKnowledgeDomain3">
              <span>3</span> <em class="description">I have advanced knowledge in this field</em>
            </label>
          </span>
        </div>
      </div>
      <div class="comments">
        <label for="youKnowledgeDomainComment" name="youKnowledgeDomainComment">Comments</label>
        <textarea placeholder="Click here to tell us more about your background. What is your knowledge about the data category, the government in your country, and Open Data in general?" id="youKnowledgeDomainComment" name="youKnowledgeDomainComment" rows="5"></textarea>
      </div>
    </div>

    <div class="scale question">
      <div class="instructions"></div>
      <div class="main">
        <h2><span>A2.</span> Rate your knowledge of open data.</h2>
        <div class="answer">
          <span>
            <input type="radio" name="youKnowledgeOpenData" id="youKnowledgeOpenData1" value="1">
            <label for="youKnowledgeOpenData1">
              <span>1</span> <em class="description">I'm not familiar at all with open data</em>
            </label>
          </span>
          <span>
            <input type="radio" name="youKnowledgeOpenData" id="youKnowledgeOpenData2" value="2">
            <label for="youKnowledgeOpenData2">
              <span>2</span> <em class="description">I have some knowledge about open data</em>
            </label>
          </span>
          <span>
            <input type="radio" name="youKnowledgeOpenData" id="youKnowledgeOpenData3" value="3">
            <label for="youKnowledgeOpenData3">
              <span>3</span> <em class="description">I have advanced knowledge</em>
            </label>
          </span>
        </div>
      </div>
      <div class="comments">
        <label for="youKnowledgeOpenDatacomment">Comments</label>
        <textarea placeholder="Add comments" id="youKnowledgeOpenDatacomment" name="youKnowledgeOpenDatacomment" rows="5"></textarea>
      </div>
    </div>
  </div>
</section>

<section>
  <div class="container">
    <div class="intro">
      <h1>Section B - About the data</h1>
    </div>

    <input type="hidden" name="place" value="{{ current.place }}" />
    <input type="hidden" name="dataset" value="{{ current.dataset }}" />

    <div id="questions">{{ initialRenderedQuestions }}</div>
    <script type="text/javascript">
      window.qsSchema = {{ qsSchema|safe }};
      window.questions = {{ questions|safe }};
      window.datasetContext = {{ datasetContext|dump }};
      window.formData = {{ formData|dump }};
    </script>
  </div>
</section>

<section>
  <div class="container">

    <div class="text question">
      <div class="instructions"></div>
      <div class="main">
        <h2>Any other comments?</h2>
        <div class="answer">
          <textarea name="otherComments" rows="5"></textarea>
        </div>
      </div>
      <div class="comments">

      </div>
    </div>

    <div class="yes-no sub neutral question">
      <div class="instructions">
        <div class="collapse" id="instructionsAttribution">
          <h4>Instructions</h4>
          <p>
            By default, submissions to the census are credited to the submitter. If you would prefer to remain anonymous, please indicate so by checking the box.
          </p>
        </div>
        <a class="toggle" role="button" data-toggle="collapse" href="#instructionsAttribution" aria-expanded="false" aria-controls="instructionsAttribution"><span class="sr-only">Help</span><span class="icon">?</span></a>

      </div>
      <div class="main">
        <h2>Would you prefer your submission to remain anonymous?</h2>
        <div class="answer">
          <input type="radio" name="yesnoAttribution" id="yesnoAttributionNo" value="No">
          <label for="yesnoAttributionNo">
            <span>No</span>
          </label>
          <input type="radio" name="yesnoAttribution" id="yesnoAttributionYes" value="Yes">
          <label for="yesnoAttributionYes">
            <span>Yes</span>
          </label>
        </div>
      </div>
      <div class="comments">
      </div>
    </div>

    <div class="submit continuation question">
      <div class="instructions"></div>
      <div class="main">
        <p>
          <small>
            By submitting material to the index you agreeing to <a href="http://okfn.org/terms-of-use/">terms of use</a> and also to license your contribution (to the extent there are any rights in it!) under the <a href="http://opendatacommons.org/licenses/pddl/1.0/">Open Data Commons Public Domain Dedication and License</a>.
          </small>
        </p>
        <div class="answer">
          <button>Submit</button>
        </div>
      </div>
      <div class="comments">
      </div>
    </div>
  </div>
</section>
</form>
{% endif %}

<script src="/scripts/compiled/entry.js" type="text/javascript"></script>

{% endblock %}
